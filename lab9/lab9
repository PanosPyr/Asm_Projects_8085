
;<Program title>

jmp start

;data


;code
start: nop
MVI A,02H
OUT 40H
MAIN: IN 41H
CPI 0C0H
JZ PROC_1
CPI 86H
JZ PROC_2
CPI 50H
JZ PROC_3
JMP END

PROC_1: MVI A,0FFH
OUT 42H
JMP MAIN

PROC_2: MVI A,0D0H
OUT 42H
CALL DELAY
LDA 2400H
OUT 42H
CALL DELAY
JMP MAIN

PROC_3: MVI A,0FAH
ADI 2FH
STA 2410H
XRI 0A9H
STA 2415H
CALL DISPLAY
JMP MAIN

DISPLAY: RET
DELAY: MVI C,03H
LABEL1: MVI B,0FFH
LABEL2: MVI A,0FFH
LABEL3: DCR A
JNZ LABEL3
DCR B
JNZ LABEL2
DCR C
JNZ LABEL1
RET

END: HLT