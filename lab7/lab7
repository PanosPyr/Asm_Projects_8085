
;<Program title>

jmp start

;data


;code
start: nop
LXI H,2130H
MVI B,00H
LDA 2130H
STA 2160H
STA 2161H
PUSH PSW
PUSH B
PUSH H
CALL DISPLAY
POP H
POP B
POP PSW

LOOP1: INX H
MOV A,B
CPI 02BH
JZ LOOP4
INR B
LDA 2161H
CMP M
JC LOOP2
LDA 2160H
CMP M
JNC LOOP3
JMP LOOP1

LOOP2: MOV A,M
STA 2161H
PUSH PSW
PUSH B
PUSH H
CALL DISPLAY
POP H
POP B
POP PSW
JMP LOOP1

LOOP3: MOV A,M
STA 2160H
PUSH PSW
PUSH B
PUSH H
CALL DISPLAY
POP H
POP B
POP PSW
JMP LOOP1

DISPLAY: STA 2162H
RET

LOOP4: HLT